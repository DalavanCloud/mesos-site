<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Apache Mesos: mesos::master::detector::ZooKeeperMasterDetector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Apache Mesos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemesos.html">mesos</a></li><li class="navelem"><a class="el" href="namespacemesos_1_1master.html">master</a></li><li class="navelem"><a class="el" href="namespacemesos_1_1master_1_1detector.html">detector</a></li><li class="navelem"><a class="el" href="classmesos_1_1master_1_1detector_1_1ZooKeeperMasterDetector.html">ZooKeeperMasterDetector</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmesos_1_1master_1_1detector_1_1ZooKeeperMasterDetector-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mesos::master::detector::ZooKeeperMasterDetector Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="src_2master_2detector_2zookeeper_8hpp_source.html">zookeeper.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mesos::master::detector::ZooKeeperMasterDetector:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classmesos_1_1master_1_1detector_1_1ZooKeeperMasterDetector.png" usemap="#mesos::master::detector::ZooKeeperMasterDetector_map" alt=""/>
  <map id="mesos::master::detector::ZooKeeperMasterDetector_map" name="mesos::master::detector::ZooKeeperMasterDetector_map">
<area href="classmesos_1_1master_1_1detector_1_1MasterDetector.html" title="An abstraction of a Master detector which can be used to detect the leading master from a group..." alt="mesos::master::detector::MasterDetector" shape="rect" coords="0,0,299,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a53ea98f40c982b833ec8b379e6db6473"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmesos_1_1master_1_1detector_1_1ZooKeeperMasterDetector.html#a53ea98f40c982b833ec8b379e6db6473">ZooKeeperMasterDetector</a> (const <a class="el" href="classzookeeper_1_1URL.html">zookeeper::URL</a> &amp;url, const <a class="el" href="classDuration.html">Duration</a> &amp;sessionTimeout=<a class="el" href="namespacemesos_1_1master_1_1detector.html#a42e59ca43e0215f79aab7bc1eb0e2a0e">MASTER_DETECTOR_ZK_SESSION_TIMEOUT</a>)</td></tr>
<tr class="separator:a53ea98f40c982b833ec8b379e6db6473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01605e9c5c2c17ddc885132433bb67a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmesos_1_1master_1_1detector_1_1ZooKeeperMasterDetector.html#a01605e9c5c2c17ddc885132433bb67a7">ZooKeeperMasterDetector</a> (<a class="el" href="classprocess_1_1Owned.html">process::Owned</a>&lt; <a class="el" href="classzookeeper_1_1Group.html">zookeeper::Group</a> &gt; <a class="el" href="structgroup.html">group</a>)</td></tr>
<tr class="separator:a01605e9c5c2c17ddc885132433bb67a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d3e2cff54940ba92ec90540922c0785"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmesos_1_1master_1_1detector_1_1ZooKeeperMasterDetector.html#a4d3e2cff54940ba92ec90540922c0785">~ZooKeeperMasterDetector</a> () override</td></tr>
<tr class="separator:a4d3e2cff54940ba92ec90540922c0785"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08461b9884f83bc128ce69e8c37595e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classprocess_1_1Future.html">process::Future</a>&lt; <a class="el" href="classOption.html">Option</a>&lt; MasterInfo &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmesos_1_1master_1_1detector_1_1ZooKeeperMasterDetector.html#a08461b9884f83bc128ce69e8c37595e7">detect</a> (const <a class="el" href="classOption.html">Option</a>&lt; MasterInfo &gt; &amp;previous=<a class="el" href="structNone.html">None</a>()) override</td></tr>
<tr class="memdesc:a08461b9884f83bc128ce69e8c37595e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns MasterInfo after an election has occurred and the elected master is different than that specified (if any), or NONE if an election occurs and no master is elected (e.g., all masters are lost).  <a href="#a08461b9884f83bc128ce69e8c37595e7">More...</a><br /></td></tr>
<tr class="separator:a08461b9884f83bc128ce69e8c37595e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classmesos_1_1master_1_1detector_1_1MasterDetector"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classmesos_1_1master_1_1detector_1_1MasterDetector')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classmesos_1_1master_1_1detector_1_1MasterDetector.html">mesos::master::detector::MasterDetector</a></td></tr>
<tr class="memitem:afa29b19a4a659d32db30bedd48198ec3 inherit pub_methods_classmesos_1_1master_1_1detector_1_1MasterDetector"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmesos_1_1master_1_1detector_1_1MasterDetector.html#afa29b19a4a659d32db30bedd48198ec3">~MasterDetector</a> ()=0</td></tr>
<tr class="separator:afa29b19a4a659d32db30bedd48198ec3 inherit pub_methods_classmesos_1_1master_1_1detector_1_1MasterDetector"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classmesos_1_1master_1_1detector_1_1MasterDetector"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classmesos_1_1master_1_1detector_1_1MasterDetector')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classmesos_1_1master_1_1detector_1_1MasterDetector.html">mesos::master::detector::MasterDetector</a></td></tr>
<tr class="memitem:a3ddc796d745072faf0e72b17f3ec7781 inherit pub_static_methods_classmesos_1_1master_1_1detector_1_1MasterDetector"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classTry.html">Try</a>&lt; <a class="el" href="classmesos_1_1master_1_1detector_1_1MasterDetector.html">MasterDetector</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmesos_1_1master_1_1detector_1_1MasterDetector.html#a3ddc796d745072faf0e72b17f3ec7781">create</a> (const <a class="el" href="classOption.html">Option</a>&lt; std::string &gt; &amp;zk, const <a class="el" href="classOption.html">Option</a>&lt; std::string &gt; &amp;masterDetectorModule=<a class="el" href="structNone.html">None</a>(), const <a class="el" href="classOption.html">Option</a>&lt; <a class="el" href="classDuration.html">Duration</a> &gt; &amp;zkSessionTimeout=<a class="el" href="structNone.html">None</a>())</td></tr>
<tr class="memdesc:a3ddc796d745072faf0e72b17f3ec7781 inherit pub_static_methods_classmesos_1_1master_1_1detector_1_1MasterDetector"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a master detector.  <a href="#a3ddc796d745072faf0e72b17f3ec7781">More...</a><br /></td></tr>
<tr class="separator:a3ddc796d745072faf0e72b17f3ec7781 inherit pub_static_methods_classmesos_1_1master_1_1detector_1_1MasterDetector"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a53ea98f40c982b833ec8b379e6db6473"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mesos::master::detector::ZooKeeperMasterDetector::ZooKeeperMasterDetector </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classzookeeper_1_1URL.html">zookeeper::URL</a> &amp;&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDuration.html">Duration</a> &amp;&#160;</td>
          <td class="paramname"><em>sessionTimeout</em> = <code><a class="el" href="namespacemesos_1_1master_1_1detector.html#a42e59ca43e0215f79aab7bc1eb0e2a0e">MASTER_DETECTOR_ZK_SESSION_TIMEOUT</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a01605e9c5c2c17ddc885132433bb67a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mesos::master::detector::ZooKeeperMasterDetector::ZooKeeperMasterDetector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classprocess_1_1Owned.html">process::Owned</a>&lt; <a class="el" href="classzookeeper_1_1Group.html">zookeeper::Group</a> &gt;&#160;</td>
          <td class="paramname"><em>group</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4d3e2cff54940ba92ec90540922c0785"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mesos::master::detector::ZooKeeperMasterDetector::~ZooKeeperMasterDetector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a08461b9884f83bc128ce69e8c37595e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classprocess_1_1Future.html">process::Future</a>&lt;<a class="el" href="classOption.html">Option</a>&lt;MasterInfo&gt; &gt; mesos::master::detector::ZooKeeperMasterDetector::detect </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOption.html">Option</a>&lt; MasterInfo &gt; &amp;&#160;</td>
          <td class="paramname"><em>previous</em> = <code><a class="el" href="structNone.html">None</a>()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns MasterInfo after an election has occurred and the elected master is different than that specified (if any), or NONE if an election occurs and no master is elected (e.g., all masters are lost). </p>
<p>A failed future is returned if the detector is unable to detect the leading master due to a non-retryable error. Note that the detector transparently tries to recover from retryable errors. The future is never discarded unless it stays pending when the detector destructs.</p>
<p>The 'previous' result (if any) should be passed back if this method is called repeatedly so the detector only returns when it gets a different result. </p>

<p>Implements <a class="el" href="classmesos_1_1master_1_1detector_1_1MasterDetector.html#aa3cb69316702ee572983aed9e9e74758">mesos::master::detector::MasterDetector</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/master/detector/<a class="el" href="src_2master_2detector_2zookeeper_8hpp_source.html">zookeeper.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>

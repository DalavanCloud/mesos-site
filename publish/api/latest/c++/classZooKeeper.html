<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>mesos: ZooKeeper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">mesos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classZooKeeper-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ZooKeeper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>TODO(benh): Clean up this documentation.  
 <a href="classZooKeeper.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="zookeeper_2zookeeper_8hpp_source.html">zookeeper.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae010b1a7201c0a48b69eb9ac319afcec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZooKeeper.html#ae010b1a7201c0a48b69eb9ac319afcec">ZooKeeper</a> (const std::string &amp;servers, const Duration &amp;timeout, <a class="el" href="classWatcher.html">Watcher</a> *watcher)</td></tr>
<tr class="memdesc:ae010b1a7201c0a48b69eb9ac319afcec"><td class="mdescLeft">&#160;</td><td class="mdescRight">instantiate new <a class="el" href="classZooKeeper.html" title="TODO(benh): Clean up this documentation. ">ZooKeeper</a> client.  <a href="#ae010b1a7201c0a48b69eb9ac319afcec">More...</a><br /></td></tr>
<tr class="separator:ae010b1a7201c0a48b69eb9ac319afcec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab78974fb5546ab5f47b3db46836d62d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZooKeeper.html#ab78974fb5546ab5f47b3db46836d62d1">getState</a> ()</td></tr>
<tr class="memdesc:ab78974fb5546ab5f47b3db46836d62d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the state of the zookeeper connection.  <a href="#ab78974fb5546ab5f47b3db46836d62d1">More...</a><br /></td></tr>
<tr class="separator:ab78974fb5546ab5f47b3db46836d62d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1cbe681777fd5b9ecb870402b897ef6"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZooKeeper.html#ac1cbe681777fd5b9ecb870402b897ef6">getSessionId</a> ()</td></tr>
<tr class="memdesc:ac1cbe681777fd5b9ecb870402b897ef6"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the current session id.  <a href="#ac1cbe681777fd5b9ecb870402b897ef6">More...</a><br /></td></tr>
<tr class="separator:ac1cbe681777fd5b9ecb870402b897ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eadcc47b615860d77ad89797a214a54"><td class="memItemLeft" align="right" valign="top">Duration&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZooKeeper.html#a4eadcc47b615860d77ad89797a214a54">getSessionTimeout</a> () const </td></tr>
<tr class="memdesc:a4eadcc47b615860d77ad89797a214a54"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the current session timeout.  <a href="#a4eadcc47b615860d77ad89797a214a54">More...</a><br /></td></tr>
<tr class="separator:a4eadcc47b615860d77ad89797a214a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bcbff63bae402d4f1be45ab818ad14f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5bcbff63bae402d4f1be45ab818ad14f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZooKeeper.html#a5bcbff63bae402d4f1be45ab818ad14f">authenticate</a> (const std::string &amp;scheme, const std::string &amp;credentials)</td></tr>
<tr class="memdesc:a5bcbff63bae402d4f1be45ab818ad14f"><td class="mdescLeft">&#160;</td><td class="mdescRight">authenticate synchronously. <br /></td></tr>
<tr class="separator:a5bcbff63bae402d4f1be45ab818ad14f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60244c525246bd57ff4c971b9ab7f18f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZooKeeper.html#a60244c525246bd57ff4c971b9ab7f18f">create</a> (const std::string &amp;path, const std::string &amp;data, const ACL_vector &amp;acl, int flags, std::string *result, bool recursive=false)</td></tr>
<tr class="memdesc:a60244c525246bd57ff4c971b9ab7f18f"><td class="mdescLeft">&#160;</td><td class="mdescRight">create a node synchronously.  <a href="#a60244c525246bd57ff4c971b9ab7f18f">More...</a><br /></td></tr>
<tr class="separator:a60244c525246bd57ff4c971b9ab7f18f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47af3ae9ff7286996560009a6a2d621b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZooKeeper.html#a47af3ae9ff7286996560009a6a2d621b">remove</a> (const std::string &amp;path, int version)</td></tr>
<tr class="memdesc:a47af3ae9ff7286996560009a6a2d621b"><td class="mdescLeft">&#160;</td><td class="mdescRight">delete a node in zookeeper synchronously.  <a href="#a47af3ae9ff7286996560009a6a2d621b">More...</a><br /></td></tr>
<tr class="separator:a47af3ae9ff7286996560009a6a2d621b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb9be4b4aef555fd68311c3031adb87b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZooKeeper.html#abb9be4b4aef555fd68311c3031adb87b">exists</a> (const std::string &amp;path, bool watch, Stat *stat)</td></tr>
<tr class="memdesc:abb9be4b4aef555fd68311c3031adb87b"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks the existence of a node in zookeeper synchronously.  <a href="#abb9be4b4aef555fd68311c3031adb87b">More...</a><br /></td></tr>
<tr class="separator:abb9be4b4aef555fd68311c3031adb87b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accad8e8d68a1940c2035bd66f8b5d017"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZooKeeper.html#accad8e8d68a1940c2035bd66f8b5d017">get</a> (const std::string &amp;path, bool watch, std::string *result, Stat *stat)</td></tr>
<tr class="memdesc:accad8e8d68a1940c2035bd66f8b5d017"><td class="mdescLeft">&#160;</td><td class="mdescRight">gets the data associated with a node synchronously.  <a href="#accad8e8d68a1940c2035bd66f8b5d017">More...</a><br /></td></tr>
<tr class="separator:accad8e8d68a1940c2035bd66f8b5d017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdfe97fd1d1e43f5753f5a0366298906"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZooKeeper.html#acdfe97fd1d1e43f5753f5a0366298906">getChildren</a> (const std::string &amp;path, bool watch, std::vector&lt; std::string &gt; *results)</td></tr>
<tr class="memdesc:acdfe97fd1d1e43f5753f5a0366298906"><td class="mdescLeft">&#160;</td><td class="mdescRight">lists the children of a node synchronously.  <a href="#acdfe97fd1d1e43f5753f5a0366298906">More...</a><br /></td></tr>
<tr class="separator:acdfe97fd1d1e43f5753f5a0366298906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae30850d5f83786088b4fd55f8a2a4120"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZooKeeper.html#ae30850d5f83786088b4fd55f8a2a4120">set</a> (const std::string &amp;path, const std::string &amp;data, int version)</td></tr>
<tr class="memdesc:ae30850d5f83786088b4fd55f8a2a4120"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets the data associated with a node.  <a href="#ae30850d5f83786088b4fd55f8a2a4120">More...</a><br /></td></tr>
<tr class="separator:ae30850d5f83786088b4fd55f8a2a4120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4934fe00d21a28d5d6697daaa4dbef72"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZooKeeper.html#a4934fe00d21a28d5d6697daaa4dbef72">message</a> (int code) const </td></tr>
<tr class="memdesc:a4934fe00d21a28d5d6697daaa4dbef72"><td class="mdescLeft">&#160;</td><td class="mdescRight">return a message describing the return code.  <a href="#a4934fe00d21a28d5d6697daaa4dbef72">More...</a><br /></td></tr>
<tr class="separator:a4934fe00d21a28d5d6697daaa4dbef72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8267a03641534126858ddb5f137b8ec3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZooKeeper.html#a8267a03641534126858ddb5f137b8ec3">retryable</a> (int code)</td></tr>
<tr class="memdesc:a8267a03641534126858ddb5f137b8ec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns whether or not the specified return code implies the operation can be retried "as is" (i.e., without needing to change anything).  <a href="#a8267a03641534126858ddb5f137b8ec3">More...</a><br /></td></tr>
<tr class="separator:a8267a03641534126858ddb5f137b8ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac9d13dd38697506dfbe4df25cc97dc93"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac9d13dd38697506dfbe4df25cc97dc93"></a>
<a class="el" href="classZooKeeperProcess.html">ZooKeeperProcess</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>process</b></td></tr>
<tr class="separator:ac9d13dd38697506dfbe4df25cc97dc93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>TODO(benh): Clean up this documentation. </p>
<p>This is the main class of <a class="el" href="classZooKeeper.html" title="TODO(benh): Clean up this documentation. ">ZooKeeper</a> client library. To use a <a class="el" href="classZooKeeper.html" title="TODO(benh): Clean up this documentation. ">ZooKeeper</a> service, an application must first instantiate an object of <a class="el" href="classZooKeeper.html" title="TODO(benh): Clean up this documentation. ">ZooKeeper</a> class. All the iterations will be done by calling the methods of <a class="el" href="classZooKeeper.html" title="TODO(benh): Clean up this documentation. ">ZooKeeper</a> class.</p>
<p>Once a connection to a server is established, a session ID is assigned to the client. The client will send heart beats to the server periodically to keep the session valid.</p>
<p>The application can call <a class="el" href="classZooKeeper.html" title="TODO(benh): Clean up this documentation. ">ZooKeeper</a> APIs through a client as long as the session ID of the client remains valid.</p>
<p>If for some reason, the client fails to send heart beats to the server for a prolonged period of time (exceeding the sessionTimeout value, for instance), the server will expire the session, and the session ID will become invalid. The client object will no longer be usable. To make <a class="el" href="classZooKeeper.html" title="TODO(benh): Clean up this documentation. ">ZooKeeper</a> API calls, the application must create a new client object.</p>
<p>If the <a class="el" href="classZooKeeper.html" title="TODO(benh): Clean up this documentation. ">ZooKeeper</a> server the client currently connects to fails or otherwise does not respond, the client will automatically try to connect to another server before its session ID expires. If successful, the application can continue to use the client.</p>
<p>Some successful <a class="el" href="classZooKeeper.html" title="TODO(benh): Clean up this documentation. ">ZooKeeper</a> API calls can leave watches on the "data
nodes" in the <a class="el" href="classZooKeeper.html" title="TODO(benh): Clean up this documentation. ">ZooKeeper</a> server. Other successful <a class="el" href="classZooKeeper.html" title="TODO(benh): Clean up this documentation. ">ZooKeeper</a> API calls can trigger those watches. Once a watch is triggered, an event will be delivered to the client which left the watch at the first place. Each watch can be triggered only once. Thus, up to one event will be delivered to a client for every watch it leaves.</p>
<p>A client needs an object of a class implementing <a class="el" href="classWatcher.html" title="This interface specifies the public interface an event handler class must implement. ">Watcher</a> interface for processing the events delivered to the client. When a client drops current connection and re-connects to a server, all the existing watches are considered as being triggered but the undelivered events are lost. To emulate this, the client will generate a special event to tell the event handler a connection has been dropped. This special event has type EventNone and state sKeeperStateDisconnected. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae010b1a7201c0a48b69eb9ac319afcec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ZooKeeper::ZooKeeper </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>servers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Duration &amp;&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWatcher.html">Watcher</a> *&#160;</td>
          <td class="paramname"><em>watcher</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>instantiate new <a class="el" href="classZooKeeper.html" title="TODO(benh): Clean up this documentation. ">ZooKeeper</a> client. </p>
<p>The constructor initiates a new session, however session establishment is asynchronous, meaning that the session should not be considered established until (and unless) an event of state ZOO_CONNECTED_STATE is received. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">servers</td><td>comma separated host:port pairs, each corresponding to a <a class="el" href="classZooKeeper.html" title="TODO(benh): Clean up this documentation. ">ZooKeeper</a> server. e.g. "127.0.0.1:3000,127.0.0.1:3001" </td></tr>
    <tr><td class="paramname">watcher</td><td>the instance of <a class="el" href="classWatcher.html" title="This interface specifies the public interface an event handler class must implement. ">Watcher</a> that receives event callbacks. When notifications are triggered the Watcher::process method will be invoked. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a60244c525246bd57ff4c971b9ab7f18f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZooKeeper::create </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ACL_vector &amp;&#160;</td>
          <td class="paramname"><em>acl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>recursive</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>create a node synchronously. </p>
<p>This method will create a node in <a class="el" href="classZooKeeper.html" title="TODO(benh): Clean up this documentation. ">ZooKeeper</a>. A node can only be created if it does not already exists. The Create <a class="el" href="classFlags.html">Flags</a> affect the creation of nodes. If ZOO_EPHEMERAL flag is set, the node will automatically get removed if the client session goes away. If the ZOO_SEQUENCE flag is set, a unique monotonically increasing sequence number is appended to the path name.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The name of the node. Expressed as a file name with slashes separating ancestors of the node. </td></tr>
    <tr><td class="paramname">data</td><td>The data to be stored in the node. </td></tr>
    <tr><td class="paramname">acl</td><td>The initial ACL of the node. If null, the ACL of the parent will be used. </td></tr>
    <tr><td class="paramname">flags</td><td>this parameter can be set to 0 for normal create or an OR of the Create <a class="el" href="classFlags.html">Flags</a> </td></tr>
    <tr><td class="paramname">result</td><td>A string which will be filled with the path of the new node (this might be different than the supplied path because of the ZOO_SEQUENCE flag). The path string will always be null-terminated. </td></tr>
    <tr><td class="paramname">recursive</td><td>if true, attempts to create all intermediate znodes as required; note that 'flags' and 'data' will only be applied to the creation of 'basename(path)'. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>one of the following codes are returned: ZOK operation completed succesfully ZNONODE the parent node does not exist. ZNODEEXISTS the node already exists ZNOAUTH the client does not have permission. ZNOCHILDRENFOREPHEMERALS cannot create children of ephemeral nodes. ZBADARGUMENTS - invalid input parameters ZINVALIDSTATE - state is ZOO_SESSION_EXPIRED_STATE or ZOO_AUTH_FAILED_STATE ZMARSHALLINGERROR - failed to marshall a request; possibly, out of memory </dd></dl>

</div>
</div>
<a class="anchor" id="abb9be4b4aef555fd68311c3031adb87b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZooKeeper::exists </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>watch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Stat *&#160;</td>
          <td class="paramname"><em>stat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks the existence of a node in zookeeper synchronously. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>the name of the node. Expressed as a file name with slashes separating ancestors of the node. </td></tr>
    <tr><td class="paramname">watch</td><td>if true, a watch will be set at the server to notify the client if the node changes. The watch will be set even if the node does not exist. This allows clients to watch for nodes to appear. </td></tr>
    <tr><td class="paramname">stat</td><td>the return stat value of the node. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return code of the function call. ZOK operation completed succesfully ZNONODE the node does not exist. ZNOAUTH the client does not have permission. ZBADARGUMENTS - invalid input parameters ZINVALIDSTATE - state is ZOO_SESSION_EXPIRED_STATE or ZOO_AUTH_FAILED_STATE ZMARSHALLINGERROR - failed to marshall a request; possibly, out of memory </dd></dl>

</div>
</div>
<a class="anchor" id="accad8e8d68a1940c2035bd66f8b5d017"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZooKeeper::get </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>watch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Stat *&#160;</td>
          <td class="paramname"><em>stat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>gets the data associated with a node synchronously. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>the name of the node. Expressed as a file name with slashes separating ancestors of the node. </td></tr>
    <tr><td class="paramname">watch</td><td>if nonzero, a watch will be set at the server to notify the client if the node changes. </td></tr>
    <tr><td class="paramname">result</td><td>the data returned by the server </td></tr>
    <tr><td class="paramname">stat</td><td>if not NULL, will hold the value of stat for the path on return. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return value of the function call. ZOK operation completed succesfully ZNONODE the node does not exist. ZNOAUTH the client does not have permission. ZBADARGUMENTS - invalid input parameters ZINVALIDSTATE - state is ZOO_SESSION_EXPIRED_STATE or ZOO_AUTH_FAILED_STATE ZMARSHALLINGERROR - failed to marshall a request; possibly, out of memory </dd></dl>

</div>
</div>
<a class="anchor" id="acdfe97fd1d1e43f5753f5a0366298906"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZooKeeper::getChildren </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>watch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt; *&#160;</td>
          <td class="paramname"><em>results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>lists the children of a node synchronously. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>the name of the node. Expressed as a file name with slashes separating ancestors of the node. </td></tr>
    <tr><td class="paramname">watch</td><td>if true, a watch will be set at the server to notify the client if the node changes. </td></tr>
    <tr><td class="paramname">results</td><td>return value of children paths. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the return code of the function. ZOK operation completed successfully ZNONODE the node does not exist. ZNOAUTH the client does not have permission. ZBADARGUMENTS - invalid input parameters ZINVALIDSTATE - state is ZOO_SESSION_EXPIRED_STATE or ZOO_AUTH_FAILED_STATE ZMARSHALLINGERROR - failed to marshall a request; possibly, out of memory </dd></dl>

</div>
</div>
<a class="anchor" id="ac1cbe681777fd5b9ecb870402b897ef6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t ZooKeeper::getSessionId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the current session id. </p>
<p>The current session id or 0 if no session is established. </p>

</div>
</div>
<a class="anchor" id="a4eadcc47b615860d77ad89797a214a54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Duration ZooKeeper::getSessionTimeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the current session timeout. </p>
<p>The session timeout requested by the client or the negotiated session timeout after the session is established with <a class="el" href="classZooKeeper.html" title="TODO(benh): Clean up this documentation. ">ZooKeeper</a>. </p>

</div>
</div>
<a class="anchor" id="ab78974fb5546ab5f47b3db46836d62d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZooKeeper::getState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the state of the zookeeper connection. </p>
<p>The return value will be one of the State Consts. </p>

</div>
</div>
<a class="anchor" id="a4934fe00d21a28d5d6697daaa4dbef72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string ZooKeeper::message </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return a message describing the return code. </p>
<dl class="section return"><dt>Returns</dt><dd>string message corresponding to return code. </dd></dl>

</div>
</div>
<a class="anchor" id="a47af3ae9ff7286996560009a6a2d621b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZooKeeper::remove </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>delete a node in zookeeper synchronously. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>the name of the node. Expressed as a file name with slashes separating ancestors of the node. </td></tr>
    <tr><td class="paramname">version</td><td>the expected version of the node. The function will fail if the actual version of the node does not match the expected version. If -1 is used the version check will not take place. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>one of the following values is returned. ZOK operation completed succesfully ZNONODE the node does not exist. ZNOAUTH the client does not have permission. ZBADVERSION expected version does not match actual version. ZNOTEMPTY children are present; node cannot be deleted. ZBADARGUMENTS - invalid input parameters ZINVALIDSTATE - state is ZOO_SESSION_EXPIRED_STATE or ZOO_AUTH_FAILED_STATE ZMARSHALLINGERROR - failed to marshall a request; possibly, out of memory </dd></dl>

</div>
</div>
<a class="anchor" id="a8267a03641534126858ddb5f137b8ec3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ZooKeeper::retryable </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns whether or not the specified return code implies the operation can be retried "as is" (i.e., without needing to change anything). </p>
<dl class="section return"><dt>Returns</dt><dd>bool indicating whether operation can be retried. </dd></dl>

</div>
</div>
<a class="anchor" id="ae30850d5f83786088b4fd55f8a2a4120"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZooKeeper::set </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sets the data associated with a node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>the name of the node. Expressed as a file name with slashes separating ancestors of the node. </td></tr>
    <tr><td class="paramname">data</td><td>the data to be written to the node. </td></tr>
    <tr><td class="paramname">version</td><td>the expected version of the node. The function will fail if the actual version of the node does not match the expected version. If -1 is used the version check will not take place. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the return code for the function call. ZOK operation completed succesfully ZNONODE the node does not exist. ZNOAUTH the client does not have permission. ZBADVERSION expected version does not match actual version. ZBADARGUMENTS - invalid input parameters ZINVALIDSTATE - zhandle state is either ZOO_SESSION_EXPIRED_STATE or ZOO_AUTH_FAILED_STATE ZMARSHALLINGERROR - failed to marshall a request; possibly, out of memory </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/zookeeper/<a class="el" href="zookeeper_2zookeeper_8hpp_source.html">zookeeper.hpp</a></li>
<li>src/zookeeper/zookeeper.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 7 2014 15:29:38 for mesos by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>

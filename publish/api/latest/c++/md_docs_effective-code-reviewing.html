<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Apache Mesos: effective-code-reviewing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Apache Mesos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">effective-code-reviewing </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><hr/>
 <h2>layout: documentation </h2>
<h1>Effective Code Reviewing</h1>
<h3>Preparing for Review</h3>
<p>We've found that clear, clean, small, independent, incremental changes are much easier to review thoroughly, and much easier to get committed. Here are some tips to consider before sending review requests:</p>
<ol type="1">
<li><b>Use up front discussion</b>: Surprising a reviewer is likely to lead to wasted effort if the overall design needs changing. <a class="el" href="classTry.html">Try</a> to get a reviewer on the same page before sending them a review request.</li>
<li><b>Think about how to break up your patch</b>: Did you make any changes that could could be reviewed in independent patches? We use <code>support/post-reviews.py</code>, which makes it easy to create "chains" of reviews based on commits. Become familiar with interactive rebasing (<code>git rebase -i</code>) to split up commits.</li>
<li><b>Provide context for the change</b>: Make the motivations for the change clear in the review request, so the reviewer is not left guessing. It is highly recommended to attach a JIRA issue with your review for additional context.</li>
<li><b>Follow the c++-style-guide.md "style guide" and the style of code around you</b>.</li>
<li><b>Do a self-review of your changes before publishing</b>: Approach it from the perspective of a reviewer with no context. Is it easy to figure out the motivations for the change? Does it fit in with the rest of the code style? Are there unnecessary changes that crept in? Did you do any testing of the change?</li>
</ol>
<h3>Reviewing</h3>
<ol type="1">
<li><b>Do high level reviewing before low-level reviewing</b>: Consider the big picture before you get into any low-level details in the code. For example, do you understand what motivated the change? Why the author chose the particular solution? Does it "feel" more complicated than necessary? If so, invest the time to consider if there are simpler approaches to the problem, or whether the scope of the work can be reduced. These should all be addressed before doing a line-by-line thorough code review, as the latter is subject to a lot of review back-and-forth in the face of changes to the overall approach.</li>
<li><b>Be patient, thoughtful, and respectful</b>: when providing (a) feedback on reviews and (b) commenting on feedback. Practice <a href="http://blog.codinghorror.com/the-ten-commandments-of-egoless-programming/">ego-less programming</a>, this is not meant to be a sparring match! A prerequisite to being a good reviewee is acknowledging that 'writing is hard'! The reviewee should give the reviewer the benefit of the doubt that the reviewer has a real concern even if they can't articulate it well. And the reviewee should be prepared to anticipate all of the reviewers concerns and be thoughtful about why they decided to do something a particular way (especially if it deviates from a standard in the codebase). On the flip side, the reviewer should not use the fact that 'writing is hard' as a crutch for giving hasty feedback. The reviewer should invest time and energy trying to explain their concerns clearly and carefully. It's a two-way street!</li>
<li><b>Resolve issues before committing</b>: we tend to give a 'ship it' even when we think there are some issues that need correcting. Sometimes a particular issue will require more discussion and sometimes we take that discussion to IM or IRC or emails to expedite the process. It's important, however, that we publicly capture any collaborations/discussions that happened in those means. Making the discussion public also helps involve others that would have liked to get involved but weren't invited. a. If the reviewer and reviewee are having problems resolving a particular "confrontational" issue then both parties should consider communicating directly or asking another reviewer to participate. <b>We're all here to build the highest quality code possible, and we should leverage one another to do so.</b> b. When an issue is "Dropped" by the reviewee, the expectation is that there must be a reply to the issue indicating why it was dropped. A silent "Drop" is discouraged. c. If an issue is marked as "Resolved", the expectation is that the diff has been updated in accordance (more or less) with the reviewer's comment. If there are significant changes, a reply to the issue with a comment is greatly appreciated.</li>
<li><b>Be explicit about asking for more feedback</b>: feel free to update reviews as often as you like but recognize that in many cases it's ambiguous for reviewers when a review is back into a "ready" state so the reviewee should feel free to ping the reviewers via email when they're ready.</li>
<li><b>For reviewees, wait for a 'ship it'</b>: We often use the original developer or current "custodian" of some particular code to be the reviewer and add others to get more feedback or as an FYI. Feel free to explicitly call out that you're adding some people just as an FYI in the 'Description'. It's worth mentioning that we often reach out directly to one another about a particular change/feature before we even start coding. A little context goes a long way to streamlining the review process.</li>
<li><b>For reviewers, be thorough when giving a 'ship it'</b>: understand that reviewing requires a substantial investment of time and focus: a. You are expected to understand and support code that you're giving a 'ship it' to. b. You are expected to be accountable for the quality of the code you've given a 'ship it' to. </li>
</ol>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
